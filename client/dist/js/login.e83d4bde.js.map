{"version":3,"sources":["webpack:///./src/components/Login.vue?feee","webpack:///./src/components/Login.vue","webpack:///./src/scripts/notification.js","webpack:///./src/components/Login.vue?0845","webpack:///./src/scripts/geolocation.js"],"names":["class","for","id","type","value","loader","loaderTxt","error","handleSubmit","name","username","password","requestNotifPerm","Notification","requestPermission","then","permission","console","log","showNotif","this","createNotif","title","msg","body","icon","meteoriteImg","springApi","data","gameStatusInterval","computed","authenticated","gameStatus","zrr","player","methods","setAuthenticated","setGameStatus","setZrr","setPlayerIcon","setPlayerId","setPlayerPos","setPlayerTTL","setTTLCreation","setPlayers","setMeteorites","setCurrentLat","setCurrentLng","setPlayerTrophy","e","preventDefault","game","getPlayerById","logPlayer","catch","err","formData","login","requestOptions","method","headers","JSON","stringify","fetch","res","status","Error","localStorage","setItem","get","setData","setPos","notification","removeItem","Date","now","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","waitGameStart","handleError","options","alert","setInterval","clearInterval","setStorage","setTimeout","ttl_creation_timestamp","$router","push","created","beforeUnmount","render","__scopeId","code","TIMEOUT","PERMISSION_DENIED","POSITION_UNAVAILABLE","enableHighAccuracy","timeout","maximumAge","stopWatchCurrentPos","watchId","clearWatch"],"mappings":"uGAAA,W,wICCWA,MAAM,a,SACRA,MAAM,oB,EACT,eAA0B,OAArBA,MAAM,UAAQ,S,GACdA,MAAM,e,EAEb,eAAgC,UAA5B,2BAAuB,G,SAETA,MAAM,S,GAEnBA,MAAM,a,GAEFA,MAAM,O,EACT,eAEM,OAFDA,MAAM,UAAQ,CACjB,eAA+C,SAAxCC,IAAI,YAAW,uB,MAEnBD,MAAM,U,GASRA,MAAM,O,EACT,eAEM,OAFDA,MAAM,UAAQ,CACjB,eAA0C,SAAnCC,IAAI,YAAW,kB,MAEnBD,MAAM,U,EASb,eAEM,OAFDA,MAAM,OAAK,CACd,eAAiD,SAA1CE,GAAG,SAASC,KAAK,SAASC,MAAM,Y,mEAtC/C,eA0CU,UA1CV,EA0CU,CAzC4B,EAAAC,Q,iBAApC,eAGM,MAHN,EAGM,CAFJ,EACA,eAA8C,MAA9C,EAA8C,eAAlB,EAAAC,WAAS,M,sBAEvC,EAEW,EAAAC,O,iBAAX,eAAiD,MAAjD,EAAiD,eAAd,EAAAA,OAAK,I,sBAExC,eAgCM,MAhCN,EAgCM,CA/BJ,eA8BO,QA9BA,SAAM,8BAAE,EAAAC,cAAA,EAAAA,aAAA,sB,CACb,eAYM,MAZN,EAYM,CAXJ,EAGA,eAOM,MAPN,EAOM,C,eANJ,eAKE,SAJAL,KAAK,OACLD,GAAG,WACHO,KAAK,W,qDACI,EAAAC,SAAQ,K,mBAAR,EAAAA,gBAIf,eAYM,MAZN,EAYM,CAXJ,EAGA,eAOM,MAPN,EAOM,C,eANJ,eAKE,SAJAP,KAAK,WACLD,GAAG,WACHO,KAAK,W,qDACI,EAAAE,SAAQ,K,mBAAR,EAAAA,gBAIf,G,gFCpCO,GACbC,iBADa,WAEXC,aAAaC,oBAAoBC,MAAK,SAACC,GACrCC,QAAQC,IAAI,iBAAmBF,OAGnCG,UANa,WAMD,WACsB,YAA5BN,aAAaG,WACfI,KAAKD,YACgC,WAA5BN,aAAaG,YACtBH,aAAaC,oBAAoBC,MAAK,SAACC,GAClB,YAAfA,GACF,EAAKK,YAAY,OAAQ,YAKjCA,YAjBa,SAiBDC,EAAOC,GACe,YAA5BV,aAAaG,YACf,IAAIH,aAAaS,EAAO,CACtBE,KAAMD,EACNE,KAAMC,Q,YD4BRC,EAAY,sDAEH,GACblB,KAAM,QACNmB,KAFa,WAGX,MAAO,CACLlB,SAAU,GACVC,SAAU,GACVN,QAAQ,EACRC,UAAW,GACXC,MAAO,GACPsB,mBAAoB,OAGxBC,SAAU,kBACL,eAAS,CACVC,cAAe,gBACfC,WAAY,aACZC,IAAK,MACLC,OAAQ,YAGZC,QAAS,iCACJ,eAAW,CACZC,iBAAkB,oBAClBC,cAAe,kBACfC,OAAQ,UACRC,cAAe,kBACfC,YAAa,gBACbC,aAAc,sBACdC,aAAc,iBACdC,eAAgB,mBAChBC,WAAY,cACZC,cAAe,iBACfC,cAAe,kBACfC,cAAe,kBACfC,gBAAiB,uBAdd,IAmBLxC,aAnBO,SAmBMyC,GAAG,WACdA,EAAEC,iBACoB,KAAlB9B,KAAKV,UAAqC,KAAlBU,KAAKT,SAC/BS,KAAKb,MACH,mEAGF4C,EAAA,KAAKC,cAAc,QAAQrC,MAAK,WAC9B,EAAKsC,eACJC,OAAM,SAACC,GACRtC,QAAQC,IAAIqC,GACZ,EAAKhD,MAAQ,4CAInB8C,UAlCO,WAkCK,WACVjC,KAAKd,UAAY,0CACjBc,KAAKf,QAAS,EAEd,IAAMmD,EAAW,CACfC,MAAOrC,KAAKV,SACZC,SAAUS,KAAKT,UAGX+C,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BpC,KAAMqC,KAAKC,UAAUN,IAGvBO,MAAMpC,EAAY,SAAU+B,GACzB3C,MAAK,SAACiD,GACL,GAAmB,MAAfA,EAAIC,OASN,MADA,EAAK5D,QAAS,EACR,IAAI6D,MARV,EAAK7D,QAAS,EAEd8D,aAAaC,QAAQ,QAASJ,EAAIJ,QAAQS,IAAI,kBAC9C,EAAKjC,kBAAiB,GAEtB,EAAKkC,QAAQN,MAMhBjD,MAAK,WAEJ,EAAKwD,SAELC,EAAa5D,sBAEd0C,OAAM,SAACC,GACNtC,QAAQC,IAAIqC,GACZ,EAAKhD,MAAQ,qDACb4D,aAAaM,WAAW,aAG9BH,QA3EO,WA6ELlD,KAAKiB,gBAELjB,KAAKkB,SAELlB,KAAKoB,YAAYpB,KAAKV,UACtBU,KAAKsB,aAAatB,KAAKV,UACvBU,KAAKuB,eAAe+B,KAAKC,OACzBvD,KAAKmB,cAAcnB,KAAKV,UACxBU,KAAK4B,gBAAgB5B,KAAKV,UAE1BU,KAAKwB,aAELxB,KAAKyB,iBAEP0B,OA3FO,WA2FE,WACPnD,KAAKd,UAAY,yCACjBc,KAAKf,QAAS,EAEVuE,UAAUC,YACZD,UAAUC,YAAYC,oBACpB,SAACC,GAGC,EAAKtC,aAAa,CAChBsC,EAASC,OAAOC,SAChBF,EAASC,OAAOE,YAIlB,EAAKpC,cAAciC,EAASC,OAAOC,UACnC,EAAKlC,cAAcgC,EAASC,OAAOE,WAGnC,EAAKC,mBAEP,SAAC5E,GACCsE,EAAA,KAAYO,YAAY7E,GACxB,EAAKF,QAAS,IAEhBwE,EAAA,KAAYQ,UAGdjE,KAAKf,QAAS,EACdiF,MAAM,+DAGVH,cA3HO,WA2HS,WACd/D,KAAKd,UAAY,sCAEjBc,KAAKS,mBAAqB0D,aAAY,WACpC,EAAKlD,iBACmB,IAApB,EAAKL,aACPf,QAAQC,IAAI,QACZsE,cAAc,EAAK3D,oBACnB,EAAK4D,gBAEN,MAELA,WAvIO,WAuIM,WACXC,YAAW,WACT,EAAKrF,QAAS,EAEd8D,aAAaC,QAAQ,aAAc,EAAKpC,YACxCmC,aAAaC,QAAQ,WAAY,EAAKlC,OAAOhC,IAC7CiE,aAAaC,QAAQ,MAAOP,KAAKC,UAAU,EAAK7B,MAChDkC,aAAaC,QAAQ,aAAc,EAAKlC,OAAOT,MAC/C0C,aAAaC,QACX,YACAP,KAAKC,UAAU,EAAK5B,OAAO6C,WAE7BZ,aAAaC,QACX,eACAP,KAAKC,UAAU,EAAK5B,OAAOyD,yBAI7BnB,EAAanD,YACX,aACA,2BAGF,EAAKuE,QAAQC,KAAK,CAAEpF,KAAM,UACzB,QAGPqF,QAtLa,aAyLbC,cAzLa,WA0LXP,cAAcpE,KAAKS,sB,UE1OvB,EAAOmE,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRA,QACbb,YADa,SACD7E,GACV,IAAQ2F,EAAS3F,EAAT2F,KACJ3E,EAAM,KACV,OAAQ2E,GACN,KAAK3F,EAAM4F,QACT5E,EAAM,8CACN,MACF,KAAKhB,EAAM6F,kBACT7E,EAAM,2CACN,MACF,KAAKhB,EAAM8F,qBACT9E,EAAM,uCACN,MAEJ+D,MAAM/D,IAER8D,QAAS,CACPiB,oBAAoB,EACpBC,QAAS,IACTC,WAAY,GAEdC,oBAtBa,SAsBOC,GAClB9B,UAAUC,YAAY8B,WAAWD,M","file":"js/login.e83d4bde.js","sourcesContent":["export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=e2ce0e16&scoped=true&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=e2ce0e16&scoped=true&lang=css\"","<template>\r\n  <section class=\"container\">\r\n    <div class=\"loader-container\" v-if=\"loader\">\r\n      <div class=\"loader\"></div>\r\n      <div class=\"loader-text\">{{ loaderTxt }}</div>\r\n    </div>\r\n    <h2>Formulaire de connexion</h2>\r\n\r\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\r\n\r\n    <div class=\"container\">\r\n      <form @submit=\"handleSubmit\">\r\n        <div class=\"row\">\r\n          <div class=\"col-25\">\r\n            <label for=\"username\">Nom d'utilisateur</label>\r\n          </div>\r\n          <div class=\"col-75\">\r\n            <input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              name=\"username\"\r\n              v-model=\"username\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-25\">\r\n            <label for=\"password\">Mot de passe</label>\r\n          </div>\r\n          <div class=\"col-75\">\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              v-model=\"password\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <input id=\"submit\" type=\"submit\" value=\"Login\" />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\nimport geolocation from \"../scripts/geolocation\";\r\nimport notification from \"../scripts/notification\";\r\nimport game from \"../api-client/game\";\r\nconst springApi = \"https://proxy-tps-m1if13-2019.univ-lyon1.fr/123/tp1\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      loader: false,\r\n      loaderTxt: \"\",\r\n      error: \"\",\r\n      gameStatusInterval: null\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      authenticated: \"authenticated\",\r\n      gameStatus: \"gameStatus\",\r\n      zrr: \"zrr\",\r\n      player: \"player\",\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      setAuthenticated: \"SET_AUTHENTICATED\",\r\n      setGameStatus: \"SET_GAME_STATUS\",\r\n      setZrr: \"SET_ZRR\",\r\n      setPlayerIcon: \"SET_PLAYER_ICON\",\r\n      setPlayerId: \"SET_PLAYER_ID\",\r\n      setPlayerPos: \"SET_PLAYER_POSITION\",\r\n      setPlayerTTL: \"SET_PLAYER_TTL\",\r\n      setTTLCreation: \"SET_TTL_CREATION\",\r\n      setPlayers: \"SET_PLAYERS\",\r\n      setMeteorites: \"SET_METEORITES\",\r\n      setCurrentLat: \"SET_CURRENT_LAT\",\r\n      setCurrentLng: \"SET_CURRENT_LNG\",\r\n      setPlayerTrophy: \"SET_PLAYER_TROPHY\",\r\n    }),\r\n    /////////////////////////////////////////////////////\r\n    ////////////// FUNCTIONS\r\n    //\r\n    handleSubmit(e) {\r\n      e.preventDefault();\r\n      if (this.username === \"\" && this.password === \"\") {\r\n        this.error =\r\n          \"Nom d'utilisateur et/ou mot de passe ne doivent pas être vides !\";\r\n      } else {\r\n        // Checking if player is a part of the game\r\n        game.getPlayerById(\"test\").then(() => {\r\n          this.logPlayer();\r\n        }).catch((err) => {\r\n          console.log(err);\r\n          this.error = \"Vous ne pouvez pas rejoindre le jeu !\";\r\n        });\r\n      }\r\n    },\r\n    logPlayer() {\r\n      this.loaderTxt = \"En attente de la connexion du joueur...\";\r\n      this.loader = true;\r\n\r\n      const formData = {\r\n        login: this.username,\r\n        password: this.password,\r\n      };\r\n\r\n      const requestOptions = {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      };\r\n\r\n      fetch(springApi + \"/login\", requestOptions)\r\n        .then((res) => {\r\n          if (res.status === 204) {\r\n            this.loader = false;\r\n            // Web storage\r\n            localStorage.setItem(\"token\", res.headers.get(\"Authorization\"));\r\n            this.setAuthenticated(true);\r\n            // Initialize all data\r\n            this.setData(res);\r\n          } else {\r\n            this.loader = false;\r\n            throw new Error();\r\n          }\r\n        })\r\n        .then(() => {\r\n          // Position permission\r\n          this.setPos();\r\n          // Notification permission\r\n          notification.requestNotifPerm();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.error = \"Nom d'utilisateur et/ou mot de passe non valides !\";\r\n          localStorage.removeItem(\"token\");\r\n        });\r\n    },\r\n    setData() {\r\n      //GAME\r\n      this.setGameStatus();\r\n      // ZRR\r\n      this.setZrr();\r\n      // Player\r\n      this.setPlayerId(this.username);\r\n      this.setPlayerTTL(this.username);\r\n      this.setTTLCreation(Date.now());\r\n      this.setPlayerIcon(this.username);\r\n      this.setPlayerTrophy(this.username);\r\n      // Players\r\n      this.setPlayers();\r\n      // Meteorites\r\n      this.setMeteorites();\r\n    },\r\n    setPos() {\r\n      this.loaderTxt = \"En attente de la position du joueur...\";\r\n      this.loader = true;\r\n\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (position) => {\r\n            // PLAYER\r\n            //this.setPlayerPos([45.78207, 4.8656])\r\n            this.setPlayerPos([\r\n              position.coords.latitude,\r\n              position.coords.longitude,\r\n            ]);\r\n\r\n            // MAP FOCUS\r\n            this.setCurrentLat(position.coords.latitude);\r\n            this.setCurrentLng(position.coords.longitude);\r\n\r\n            // WAIT UNTIL GAME STARTS\r\n            this.waitGameStart();\r\n          },\r\n          (error) => {\r\n            geolocation.handleError(error);\r\n            this.loader = false;\r\n          },\r\n          geolocation.options\r\n        );\r\n      } else {\r\n        this.loader = false;\r\n        alert(\"La géolocalisation n'est pas supportée par le navigateur.\");\r\n      }\r\n    },\r\n    waitGameStart() {\r\n      this.loaderTxt = \"En attente du début de la partie...\";\r\n\r\n      this.gameStatusInterval = setInterval(() => {\r\n        this.setGameStatus();\r\n        if (this.gameStatus === true) {\r\n          console.log(\"STOP\");\r\n          clearInterval(this.gameStatusInterval);\r\n          this.setStorage();\r\n        }\r\n      }, 1000);\r\n    },\r\n    setStorage() {\r\n      setTimeout(() => {\r\n        this.loader = false;\r\n\r\n        localStorage.setItem(\"gameStatus\", this.gameStatus);\r\n        localStorage.setItem(\"playerId\", this.player.id);\r\n        localStorage.setItem(\"zrr\", JSON.stringify(this.zrr));\r\n        localStorage.setItem(\"playerIcon\", this.player.icon);\r\n        localStorage.setItem(\r\n          \"playerPos\",\r\n          JSON.stringify(this.player.position)\r\n        );\r\n        localStorage.setItem(\r\n          \"timestampTTL\",\r\n          JSON.stringify(this.player.ttl_creation_timestamp)\r\n        );\r\n\r\n        // Show notification\r\n        notification.createNotif(\r\n          \"Solid Rain\",\r\n          \"La partie a commencé ! \"\r\n        );\r\n\r\n        this.$router.push({ name: \"Map\" });\r\n      }, 1000);\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  beforeUnmount() {\r\n    clearInterval(this.gameStatusInterval);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  box-sizing: border-box;\r\n}\r\ninput[type=\"text\"],\r\ninput[type=\"password\"],\r\nselect,\r\ntextarea {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  resize: vertical;\r\n}\r\nlabel {\r\n  padding: 12px 12px 12px 0;\r\n  display: inline-block;\r\n}\r\ninput[type=\"submit\"] {\r\n  background-color: #4caf50;\r\n  color: white;\r\n  padding: 12px 20px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  float: right;\r\n  margin-top: 12px;\r\n}\r\ninput[type=\"submit\"]:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\nsection {\r\n  margin-top: 2em;\r\n}\r\n\r\n.container {\r\n  border-radius: 5px;\r\n  background-color: #f2f2f2;\r\n  padding: 20px;\r\n}\r\n.col-25 {\r\n  float: left;\r\n  width: 25%;\r\n  margin-top: 6px;\r\n}\r\n.col-75 {\r\n  float: left;\r\n  width: 75%;\r\n  margin-top: 6px;\r\n}\r\n/* Clear floats after the columns */\r\n.row:after {\r\n  content: \"\";\r\n  display: table;\r\n  clear: both;\r\n}\r\n/* Responsive layout - when the screen is less than 600px wide, make the two columns stack on top of each other instead of next to each other */\r\n@media screen and (max-width: 600px) {\r\n  .col-25,\r\n  .col-75,\r\n  input[type=\"submit\"] {\r\n    width: 100%;\r\n    margin-top: 0;\r\n  }\r\n  #submit {\r\n    margin-top: 2em;\r\n  }\r\n}\r\n/* LOADER */\r\n.loader-container {\r\n  position: absolute;\r\n  z-index: 1;\r\n  left: 50%;\r\n  margin-left: -50px;\r\n  top: 50%;\r\n  margin-top: -50px;\r\n}\r\n.loader {\r\n  border: 16px solid lightgrey;\r\n  border-radius: 50%;\r\n  border-top: 16px solid black;\r\n  width: 120px;\r\n  height: 120px;\r\n  -webkit-animation: spin 2s linear infinite; /* Safari */\r\n  animation: spin 2s linear infinite;\r\n}\r\n.loader-text {\r\n  margin-top: 20px;\r\n  position: absolute;\r\n  font-weight: bolder;\r\n  font-size: large;\r\n}\r\n/* ERROR */\r\n.error {\r\n  border: 2px solid red;\r\n  background-color: pink;\r\n  padding: 1em;\r\n  font-weight: bold;\r\n  border-radius: 1em;\r\n}\r\n\r\n/* Safari */\r\n@-webkit-keyframes spin {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n  }\r\n}\r\n@keyframes spin {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n</style>\r\n","import meteoriteImg from \"../assets/logo.png\";\r\n\r\nexport default {\r\n  requestNotifPerm() {\r\n    Notification.requestPermission().then((permission) => {\r\n      console.log(\"Notifications \" + permission);\r\n    });\r\n  },\r\n  showNotif() {\r\n    if (Notification.permission === \"granted\") {\r\n      this.showNotif();\r\n    } else if (Notification.permission !== \"denied\") {\r\n      Notification.requestPermission().then((permission) => {\r\n        if (permission === \"granted\") {\r\n          this.createNotif(\"test\", \"test\");\r\n        }\r\n      });\r\n    }\r\n  },\r\n  createNotif(title, msg) {\r\n    if (Notification.permission === \"granted\") {\r\n      new Notification(title, {\r\n        body: msg,\r\n        icon: meteoriteImg,\r\n      });\r\n    }\r\n  },\r\n};\r\n","import { render } from \"./Login.vue?vue&type=template&id=e2ce0e16&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=e2ce0e16&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-e2ce0e16\"\n\nexport default script","export default {\n  handleError(error) {\n    const { code } = error;\n    let msg = null;\n    switch (code) {\n      case error.TIMEOUT:\n        msg = \"The request to get user location timed out.\";\n        break;\n      case error.PERMISSION_DENIED:\n        msg = \"User denied the request for Geolocation.\";\n        break;\n      case error.POSITION_UNAVAILABLE:\n        msg = \"Location information is unavailable.\";\n        break;\n    }\n    alert(msg);\n  },\n  options: {\n    enableHighAccuracy: true,\n    timeout: 10000,\n    maximumAge: 0,\n  },\n  stopWatchCurrentPos(watchId) {\n    navigator.geolocation.clearWatch(watchId);\n  },\n};\n"],"sourceRoot":""}